<UserControl x:Class="Anti_Swearing_Chat_Box.Presentation.Controls.ChatBubble"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             mc:Ignorable="d" 
             d:DesignHeight="100" d:DesignWidth="300">
    
    <UserControl.Resources>
        <Storyboard x:Key="FadeInAnimation">
            <DoubleAnimation 
                Storyboard.TargetProperty="Opacity"
                From="0" To="1" Duration="0:0:0.3"/>
        </Storyboard>
        
        <LinearGradientBrush x:Key="SentMessageGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="{StaticResource AccentBrightGreen}" Offset="0"/>
            <GradientStop Color="#35A553" Offset="1"/>
        </LinearGradientBrush>
        
        <LinearGradientBrush x:Key="ReceivedMessageGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="{StaticResource NeutralAlmostBlack}" Offset="0"/>
            <GradientStop Color="{StaticResource NeutralAltDarkGray}" Offset="1"/>
        </LinearGradientBrush>
    </UserControl.Resources>
    
    <Grid Margin="8,4" x:Name="MainGrid">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <TextBlock x:Name="UsernameText" 
                   Grid.Row="0"
                   FontWeight="Bold"
                   Margin="8,0,0,4"
                   Foreground="{StaticResource NeutralWhiteBrush}"/>
        
        <Border Grid.Row="1"
                x:Name="MessageBorder"
                Background="{StaticResource TransparentOverlayBrush}"
                CornerRadius="16"
                Padding="16,12"
                BorderThickness="1"
                BorderBrush="{StaticResource NeutralDarkGrayBrush}"
                materialDesign:ShadowAssist.ShadowDepth="Depth2">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <TextBlock x:Name="MessageText"
                          Grid.Column="0"
                          TextWrapping="Wrap"
                          Foreground="{StaticResource NeutralWhiteBrush}"
                          FontSize="14"/>
                
                <StackPanel Grid.Column="1"
                          Orientation="Horizontal"
                          Margin="8,0,0,0"
                          VerticalAlignment="Bottom">
                    <TextBlock x:Name="TimeText"
                             Style="{StaticResource MaterialDesignCaptionTextBlock}"
                             Foreground="{StaticResource NeutralGrayBrush}"
                             FontSize="11"/>
                    <materialDesign:PackIcon x:Name="StatusIcon"
                                           Kind="CheckAll"
                                           Height="14"
                                           Width="14"
                                           Margin="4,0,0,0"
                                           Foreground="{StaticResource AccentBrightGreenBrush}"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</UserControl> 