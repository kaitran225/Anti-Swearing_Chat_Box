<UserControl x:Class="Anti_Swearing_Chat_Box.Presentation.Controls.ChatBubble"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             mc:Ignorable="d" 
             d:DesignHeight="100" d:DesignWidth="300">
    
    <UserControl.Resources>
        <Storyboard x:Key="FadeInAnimation">
            <DoubleAnimation 
                Storyboard.TargetProperty="Opacity"
                From="0" To="1" Duration="0:0:0.3"/>
        </Storyboard>
        
        <!-- Dark pastel matcha green for message bubbles -->
        <SolidColorBrush x:Key="MatchaGreenBrush" Color="#3A6A47"/>
        <SolidColorBrush x:Key="MatchaGreenLightBrush" Color="#4D8561"/>
        
        <!-- Dark gray for received messages -->
        <SolidColorBrush x:Key="ReceivedMessageBrush" Color="#252525"/>
    </UserControl.Resources>
    
    <Grid Margin="8,4" x:Name="MainGrid">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <TextBlock x:Name="UsernameText" 
                   Grid.Row="0"
                   FontWeight="Bold"
                   Margin="8,0,0,4"
                   Foreground="{StaticResource NeutralWhiteBrush}"/>
        
        <Border Grid.Row="1"
                x:Name="MessageBorder"
                Background="{StaticResource ReceivedMessageBrush}"
                CornerRadius="8"
                Padding="16,12"
                BorderThickness="0"
                materialDesign:ShadowAssist.ShadowDepth="Depth1">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <TextBlock x:Name="MessageText"
                          Grid.Row="0"
                          TextWrapping="Wrap"
                          Foreground="{StaticResource NeutralWhiteBrush}"
                          FontSize="14"
                          Margin="0,0,0,6"/>
                
                <StackPanel Grid.Row="1"
                          Orientation="Horizontal"
                          HorizontalAlignment="Right">
                    <TextBlock x:Name="TimeText"
                             Style="{StaticResource MaterialDesignCaptionTextBlock}"
                             Foreground="{StaticResource NeutralGrayBrush}"
                             FontSize="10"/>
                    <materialDesign:PackIcon x:Name="StatusIcon"
                                           Kind="CheckAll"
                                           Height="12"
                                           Width="12"
                                           Margin="4,0,0,0"
                                           Foreground="{StaticResource AccentBrightGreenBrush}"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</UserControl> 